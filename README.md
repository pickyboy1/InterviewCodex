# é¢ç»é˜ (InterviewCodex)

## é¡¹ç›®ç®€ä»‹

**é¢ç»é˜** æ˜¯ä¸€ä¸ªç°ä»£åŒ–ã€é«˜æ€§èƒ½çš„ä¼ä¸šçº§é¢è¯•é¢˜åº“å¹³å°ã€‚é¡¹ç›®é‡‡ç”¨å¾®æœåŠ¡æ¶æ„æ€æƒ³ï¼Œèåˆäº†ä¸šç•Œæœ€å‰æ²¿çš„æŠ€æœ¯æ ˆå’Œä¸­é—´ä»¶è§£å†³æ–¹æ¡ˆï¼Œå®ç°äº†ä»**é«˜æ€§èƒ½æœç´¢**ã€**æ™ºèƒ½ç¼“å­˜**ã€**æµé‡æ§åˆ¶**åˆ°**å®‰å…¨é˜²æŠ¤**çš„å…¨æ–¹ä½æŠ€æœ¯ä½“ç³»ã€‚

é¡¹ç›®ä¸ä»…æä¾›å®Œæ•´çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œæ›´æ˜¯ä¸€ä¸ªå±•ç¤º**ç°ä»£Javaæ¶æ„è®¾è®¡ç†å¿µ**çš„æŠ€æœ¯ç¤ºèŒƒé¡¹ç›®ï¼ŒåŒ…å«è‡ªç ”çš„**å£°æ˜å¼å¤šçº§ç¼“å­˜æ¡†æ¶**ã€**æ™ºèƒ½é™çº§æœç´¢å¼•æ“**ã€**åˆ†å¸ƒå¼é™æµç†”æ–­ç³»ç»Ÿ**ç­‰æ ¸å¿ƒç»„ä»¶ã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

### ğŸ“Š ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
- **æƒé™ä½“ç³»**ï¼šåŸºäº **Sa-Token** å®ç°çš„RBACæƒé™æ¨¡å‹ï¼Œæ”¯æŒç»†ç²’åº¦æƒé™æ§åˆ¶
- **ç”¨æˆ·è®¤è¯**ï¼šå¤šç§ç™»å½•æ–¹å¼ï¼ŒJWT Tokenæ— çŠ¶æ€è®¤è¯
- **ç­¾åˆ°ç³»ç»Ÿ**ï¼šåŸºäº **Redis BitMap** å®ç°çš„é«˜æ€§èƒ½ç­¾åˆ°ç»Ÿè®¡ï¼Œå†…å­˜å ç”¨æä½
- **ç”¨æˆ·ç”»åƒ**ï¼šæ”¯æŒç”¨æˆ·è¡Œä¸ºåˆ†æå’Œä¸ªæ€§åŒ–æ¨è

### ğŸ—‚ï¸ æ™ºèƒ½é¢˜åº“ç®¡ç†
- **CRUD æ“ä½œ**ï¼šå®Œæ•´çš„é¢˜åº“ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **çƒ­ç‚¹ç¼“å­˜**ï¼šé›†æˆ **JD HotKey** è‡ªåŠ¨æ¢æµ‹çƒ­ç‚¹æ•°æ®ï¼Œå®ç°**æ¯«ç§’çº§**å“åº”
- **åˆ†é¡µæœç´¢**ï¼šæ”¯æŒå¤šç»´åº¦æ¡ä»¶ç­›é€‰ï¼Œå“åº”æ—¶é—´ < 50ms
- **æ•°æ®ä¸€è‡´æ€§**ï¼šåˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„å¼ºä¸€è‡´æ€§ä¿è¯

### ğŸ” ä¼ä¸šçº§æœç´¢å¼•æ“
- **Elasticsearch æ·±åº¦é›†æˆ**ï¼š
  - **å¤šçº§é™çº§ç­–ç•¥**ï¼šES â†’ Database â†’ ç¼“å­˜ç©ºç»“æœï¼Œä¿è¯ 99.9% å¯ç”¨æ€§
  - **æ™ºèƒ½æœç´¢å»ºè®®**ï¼šåŸºäº Completion Suggester çš„å®æ—¶æç¤º
  - **ç›¸å…³æ¨è**ï¼šä½¿ç”¨ More Like This ç®—æ³•çš„ä¸ªæ€§åŒ–æ¨è
  - **å…¨æ–‡æ£€ç´¢**ï¼šæ”¯æŒä¸­æ–‡åˆ†è¯ã€é«˜äº®æ˜¾ç¤ºã€ç›¸å…³æ€§æ’åº
- **æ€§èƒ½ä¼˜åŒ–**ï¼š
  - æŸ¥è¯¢ç¼“å­˜ + åˆ†ç‰‡ä¼˜åŒ–ï¼ŒQPS æå‡ **300%**
  - å¼‚æ­¥æ›´æ–°ç´¢å¼•ï¼Œå†™å…¥æ€§èƒ½æå‡ **500%**

### ğŸ›¡ï¸ é«˜å¯ç”¨ä¿éšœä½“ç³»
- **Sentinel æµé‡é˜²æŠ¤**ï¼š
  - æµæ§è§„åˆ™ï¼šæ”¯æŒ QPSã€å¹¶å‘æ•°ã€å…³è”æµæ§
  - ç†”æ–­é™çº§ï¼šæ…¢è°ƒç”¨ã€å¼‚å¸¸æ¯”ä¾‹ã€å¼‚å¸¸æ•°é‡å¤šç»´åº¦ç†”æ–­
  - çƒ­ç‚¹å‚æ•°é˜²æŠ¤ï¼šé’ˆå¯¹çƒ­ç‚¹æ•°æ®çš„ç²¾å‡†æµæ§
- **å¤šçº§é™çº§ç­–ç•¥**ï¼š
  - L1ï¼šElasticsearch æœç´¢
  - L2ï¼šMySQL æ•°æ®åº“æŸ¥è¯¢
  - L3ï¼šRedis ç¼“å­˜å…œåº•
  - L4ï¼šé»˜è®¤ç»“æœè¿”å›

### ğŸ”§ è‡ªç ”æ ¸å¿ƒç»„ä»¶

#### ğŸ¯ å£°æ˜å¼å¤šçº§ç¼“å­˜æ¡†æ¶
```java
// è‡ªåŠ¨ç¼“å­˜æ³¨è§£ - æ”¯æŒæœ¬åœ°+åˆ†å¸ƒå¼åŒçº§ç¼“å­˜ + ä¸‰é‡é˜²æŠ¤
@AutoCache(scene = "question_detail", keyExpression = "#id",
           enableL1 = true,                    // å¯ç”¨æœ¬åœ°ç¼“å­˜
           enableBreakdownProtection = true,   // å¯ç”¨å‡»ç©¿é˜²æŠ¤
           nullTtl = 60,                      // ç©ºå€¼ç¼“å­˜60ç§’
           randomExpireRange = 60)            // éšæœºè¿‡æœŸæ—¶é—´0-60ç§’ï¼Œé˜²é›ªå´©
public QuestionVO getCacheQuestionVO(Long id) {
    Question question = this.getById(id);
    // ä¸å­˜åœ¨æ—¶è¿”å›nullï¼Œè®©ç¼“å­˜æ¡†æ¶å¤„ç†ç©¿é€é˜²æŠ¤
    if (question == null) return null;
    return QuestionVO.objToVo(question);
}

// ç¼“å­˜æ¸…é™¤æ³¨è§£ - æ”¯æŒæ‰¹é‡æ“ä½œå’Œå¤šçŠ¶æ€æ¸…é™¤
@CacheEvict(scene = "bank_detail", keyExpression = "#idList",
            isBatch = true, statuses = {"true", "false"})
public void batchDeleteBanks(List<Long> idList) { ... }
```

**æŠ€æœ¯ç‰¹ç‚¹**ï¼š
- âœ… **å£°æ˜å¼ç¼–ç¨‹**ï¼šåŸºäºæ³¨è§£é©±åŠ¨ï¼Œé›¶ä¾µå…¥æ€§è®¾è®¡
- âœ… **å¤šçº§ç¼“å­˜**ï¼šæœ¬åœ°ç¼“å­˜(JD HotKey) + åˆ†å¸ƒå¼ç¼“å­˜(Redis)
- âœ… **ç¼“å­˜ç©¿é€é˜²æŠ¤**ï¼šè‡ªåŠ¨ç¼“å­˜ç©ºå€¼ï¼Œé˜²æ­¢æ¶æ„è¯·æ±‚æ‰“ç©¿æ•°æ®åº“
- âœ… **ç¼“å­˜å‡»ç©¿é˜²æŠ¤**ï¼šåˆ†å¸ƒå¼é” + åŒé‡æ£€æŸ¥ + é‡è¯•æœºåˆ¶ï¼Œé˜²æ­¢çƒ­ç‚¹keyå¤±æ•ˆæ—¶çš„æƒŠç¾¤æ•ˆåº”
- âœ… **ç¼“å­˜é›ªå´©é˜²æŠ¤**ï¼šéšæœºè¿‡æœŸæ—¶é—´ï¼Œé˜²æ­¢å¤§é‡ç¼“å­˜åŒæ—¶å¤±æ•ˆ
- âœ… **æ™ºèƒ½æ‰¹é‡**ï¼šRedis ç®¡é“æŠ€æœ¯ï¼Œæ‰¹é‡æ“ä½œæ€§èƒ½æå‡ **10å€**
- âœ… **ä¸€è‡´æ€§ä¿è¯**ï¼šAOPåˆ‡é¢ç¡®ä¿ç¼“å­˜ä¸æ•°æ®åº“çš„å¼ºä¸€è‡´æ€§
- âœ… **å¤šçŠ¶æ€æ”¯æŒ**ï¼šä¸€ä¸ªå®ä½“å¤šç§ç¼“å­˜çŠ¶æ€ï¼Œçµæ´»å¯æ§

#### ğŸ”„ æ™ºèƒ½ç¼“å­˜å·¥å…·ç±»
```java
@Component
public class CacheUtils {
    // å•ä¸ªç¼“å­˜æ¸…é™¤
    public void evictCache(String scene, Object key) { ... }

    // å¤šçŠ¶æ€ç¼“å­˜æ¸…é™¤
    public void evictCacheWithStatus(String scene, Object key, List<String> statuses) { ... }

    // æ‰¹é‡ç¼“å­˜æ¸…é™¤ï¼ˆRedisç®¡é“ä¼˜åŒ–ï¼‰
    public void batchEvictCache(String scene, List<Object> keys) { ... }
}
```

#### ğŸ“ˆ æ€§èƒ½ç›‘æ§ä¸ç»Ÿè®¡
- **ç¼“å­˜å‘½ä¸­ç‡ç›‘æ§**ï¼šå®æ—¶ç»Ÿè®¡å„åœºæ™¯ç¼“å­˜å‘½ä¸­ç‡
- **æ¥å£æ€§èƒ½åˆ†æ**ï¼šè‡ªåŠ¨è®°å½•æ¥å£å“åº”æ—¶é—´åˆ†å¸ƒ
- **å¼‚å¸¸å‘Šè­¦æœºåˆ¶**ï¼šé›†æˆé’‰é’‰/ä¼å¾®å‘Šè­¦ï¼Œæ•…éšœç§’çº§å“åº”

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„è®¾è®¡

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| åˆ†ç±»           | æŠ€æœ¯/æ¡†æ¶                     | åº”ç”¨åœºæ™¯                                                |
| -------------- | ----------------------------- | ------------------------------------------------------- |
| **æ¡†æ¶æ ¸å¿ƒ**   | Spring Boot 2.7.2             | å¾®æœåŠ¡åŸºç¡€æ¡†æ¶                                          |
| **æ•°æ®å±‚**     | MyBatis-Plus, Druid           | ORM æ¡†æ¶ä¸è¿æ¥æ± ï¼Œæ”¯æŒåˆ†åº“åˆ†è¡¨                          |
| **æƒé™è®¤è¯**   | Sa-Token                      | æ— çŠ¶æ€JWTè®¤è¯ + RBACæƒé™æ¨¡å‹                            |
| **æ•°æ®å­˜å‚¨**   | MySQL 8.0, Redis 6.0         | ä¸»å­˜å‚¨ + ç¼“å­˜ + åˆ†å¸ƒå¼é”                                |
| **æœç´¢å¼•æ“**   | Elasticsearch 7.17            | å…¨æ–‡æ£€ç´¢ + æ™ºèƒ½æ¨è + æœç´¢å»ºè®®                          |
| **é«˜å¯ç”¨**     | **Sentinel**                  | æµæ§ç†”æ–­ + ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤                                 |
|                | **Redisson**                  | åˆ†å¸ƒå¼é” + é™æµå™¨ + å¸ƒéš†è¿‡æ»¤å™¨                          |
|                | **JD HotKey**                 | çƒ­ç‚¹æ¢æµ‹ + æœ¬åœ°ç¼“å­˜                                     |
| **é…ç½®ä¸­å¿ƒ**   | **Nacos**                     | åŠ¨æ€é…ç½® + æœåŠ¡å‘ç°                                     |
| **ç›‘æ§å‘Šè­¦**   | **Sentinel Dashboard**        | å®æ—¶ç›‘æ§ + è§„åˆ™é…ç½®                                     |
| **APIæ–‡æ¡£**    | Knife4j (Swagger3)            | è‡ªåŠ¨ç”Ÿæˆäº¤äº’å¼APIæ–‡æ¡£                                   |
| **æ„å»ºéƒ¨ç½²**   | Docker, Maven                 | å®¹å™¨åŒ–éƒ¨ç½² + ä¾èµ–ç®¡ç†                                   |

### ğŸ¨ æ¶æ„äº®ç‚¹å±•ç¤º

#### 1. ğŸš„ æè‡´æ€§èƒ½ä¼˜åŒ–
```java
// å¤šçº§ç¼“å­˜ç­–ç•¥ç¤ºä¾‹
@Service
public class QuestionService {

    // L1: æœ¬åœ°ç¼“å­˜ (æ¯«ç§’çº§)
    @AutoCache(scene = "hot_question", useLocalCache = true, localTtl = 300)
    public QuestionVO getHotQuestion(Long id) { ... }

    // L2: åˆ†å¸ƒå¼ç¼“å­˜ (10msçº§)
    @AutoCache(scene = "question_detail", keyExpression = "#id")
    public QuestionVO getQuestionDetail(Long id) { ... }

    // L3: æ•°æ®åº“æŸ¥è¯¢ (100msçº§)
    public QuestionVO getFromDatabase(Long id) { ... }
}
```

#### 2. ğŸ›¡ï¸ ç«‹ä½“é˜²æŠ¤ä½“ç³»
```java
// æµæ§ + ç†”æ–­ + é™çº§çš„å®Œæ•´ç¤ºä¾‹
@GetMapping("/search")
@SentinelResource(
    value = "question-search",
    blockHandler = "handleBlock",    // æµæ§å¤„ç†
    fallback = "handleFallback"      // å¼‚å¸¸é™çº§
)
public Result<Page<Question>> search(@RequestParam String keyword) {
    try {
        // L1: Elasticsearch æœç´¢
        return searchFromES(keyword);
    } catch (Exception e) {
        // L2: æ•°æ®åº“æœç´¢
        return searchFromDB(keyword);
    }
}

// æµæ§å¤„ç†ï¼šè¿”å›é™æµæç¤º
public Result handleBlock(String keyword, BlockException ex) {
    return Result.error("ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•");
}

// é™çº§å¤„ç†ï¼šè¿”å›é»˜è®¤ç»“æœ
public Result handleFallback(String keyword, Throwable ex) {
    return Result.success(getDefaultResult());
}
```

#### 3. ğŸ›¡ï¸ å®‰å…¨é˜²æŠ¤æœºåˆ¶
```java
// è®¤è¯æ¥å£é˜²åˆ·é˜²çˆ†ç ´ç¤ºä¾‹
@PostMapping("/login")
public BaseResponse<LoginUserVO> userLogin(@RequestBody UserLoginRequest request, HttpServletRequest httpRequest) {
    String clientIp = NetUtils.getIpAddress(httpRequest);
    Entry entry = null;

    try {
        // åŸºäºIPçš„å‚æ•°é™æµï¼š1åˆ†é’Ÿå†…æœ€å¤š30æ¬¡ç™»å½•è¯·æ±‚
        entry = SphU.entry("userLogin", EntryType.IN, 1, clientIp);

        // æ‰§è¡Œç™»å½•é€»è¾‘
        LoginUserVO loginUserVO = userService.userLogin(userAccount, userPassword, httpRequest);
        return ResultUtils.success(loginUserVO);

    } catch (ParamFlowException e) {
        log.warn("ç™»å½•è¢«é™æµï¼ŒIP: {}ï¼Œç–‘ä¼¼æš´åŠ›ç ´è§£", clientIp);
        return ResultUtils.error(ErrorCode.TOO_MANY_REQUEST, "ç™»å½•è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•");
    } finally {
        if (entry != null) {
            entry.exit(1, clientIp);
        }
    }
}
```

#### 4. ğŸ”„ æ™ºèƒ½ç¼“å­˜ç®¡ç†
```java
// ç¼“å­˜ä¸€è‡´æ€§ä¿è¯ç¤ºä¾‹
@Service
public class QuestionBankService {

    // æŸ¥è¯¢æ—¶è‡ªåŠ¨ç¼“å­˜
    @AutoCache(scene = "bank_detail", keyExpression = "#id + '_' + #needList")
    public QuestionBankVO getDetail(Long id, boolean needList) { ... }

    // æ›´æ–°æ—¶è‡ªåŠ¨æ¸…é™¤å¤šçŠ¶æ€ç¼“å­˜
    @CacheEvict(scene = "bank_detail", keyExpression = "#bank.id",
                statuses = {"true", "false"})  // æ¸…é™¤ä¸¤ç§çŠ¶æ€çš„ç¼“å­˜
    public boolean updateBank(QuestionBank bank) { ... }

    // æ‰¹é‡åˆ é™¤æ—¶æ‰¹é‡æ¸…é™¤ç¼“å­˜ï¼ˆRedisç®¡é“ä¼˜åŒ–ï¼‰
    @CacheEvict(scene = "bank_detail", keyExpression = "#idList",
                isBatch = true, statuses = {"true", "false"})
    public void batchDelete(List<Long> idList) { ... }
}
```

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯åˆ›æ–°

### 1. è‡ªç ”å¤šçº§ç¼“å­˜æ¡†æ¶
- **è®¾è®¡ç†å¿µ**ï¼šå£°æ˜å¼ + é›¶ä¾µå…¥ + é«˜æ€§èƒ½ + ä¼ä¸šçº§é˜²æŠ¤
- **æ ¸å¿ƒç‰¹æ€§**ï¼š
  - ğŸ“ **æ³¨è§£é©±åŠ¨**ï¼š`@AutoCache` + `@CacheEvict`
  - ğŸš€ **åŒçº§ç¼“å­˜**ï¼šæœ¬åœ°ç¼“å­˜(JD HotKey) + åˆ†å¸ƒå¼ç¼“å­˜(Redis)
  - ğŸ›¡ï¸ **ç¼“å­˜ç©¿é€é˜²æŠ¤**ï¼šç©ºå€¼ç¼“å­˜ + çŸ­TTLï¼Œé˜²æ­¢æ¶æ„IDæ”»å‡»
  - âš¡ **ç¼“å­˜å‡»ç©¿é˜²æŠ¤**ï¼šåˆ†å¸ƒå¼é” + åŒé‡æ£€æŸ¥ï¼Œè§£å†³çƒ­ç‚¹keyå¤±æ•ˆæƒŠç¾¤
  - ğŸŒŠ **ç¼“å­˜é›ªå´©é˜²æŠ¤**ï¼šéšæœºè¿‡æœŸæ—¶é—´ï¼Œé˜²æ­¢å¤§é‡ç¼“å­˜åŒæ—¶å¤±æ•ˆ
  - ğŸ”§ **æ™ºèƒ½æ‰¹é‡**ï¼šRedis ç®¡é“æŠ€æœ¯ï¼Œæ‰¹é‡æ“ä½œæ€§èƒ½æå‡ **10å€**
  - ğŸ›ï¸ **å¤šçŠ¶æ€ç®¡ç†**ï¼šä¸€ä¸ªå®ä½“æ”¯æŒå¤šç§ç¼“å­˜çŠ¶æ€ï¼Œçµæ´»å¯æ§
  - ğŸ”„ **ä¸€è‡´æ€§ä¿è¯**ï¼šAOP åˆ‡é¢ç¡®ä¿æ•°æ®ä¸€è‡´æ€§
  - ğŸ¯ **è‡ªé€‚åº”ä¼˜åŒ–**ï¼šçƒ­ç‚¹æ¢æµ‹ + æ™ºèƒ½ç¼“å­˜ç­–ç•¥

### 2. ä¼ä¸šçº§æœç´¢å¼•æ“
- **å¤šçº§é™çº§**ï¼šES â†’ DB â†’ Cache â†’ Default
- **æ™ºèƒ½å»ºè®®**ï¼šCompletion Suggester + å®æ—¶è¡¥å…¨
- **ä¸ªæ€§åŒ–æ¨è**ï¼šMore Like This + ç”¨æˆ·ç”»åƒ
- **æ€§èƒ½ä¼˜åŒ–**ï¼šæŸ¥è¯¢ç¼“å­˜ + å¼‚æ­¥ç´¢å¼•æ›´æ–°

### 3. é«˜å¯ç”¨ä¿éšœä½“ç³»
- **æµé‡é˜²æŠ¤**ï¼šSentinel å¤šç»´åº¦æµæ§
- **ç†”æ–­é™çº§**ï¼šæ…¢è°ƒç”¨ + å¼‚å¸¸æ¯”ä¾‹ + å¼‚å¸¸æ•°é‡
- **çƒ­ç‚¹é˜²æŠ¤**ï¼šJD HotKey è‡ªåŠ¨æ¢æµ‹ + æœ¬åœ°ç¼“å­˜
- **é…ç½®ä¸­å¿ƒ**ï¼šNacos åŠ¨æ€é…ç½® + å®æ—¶æ›´æ–°

### 4. å®‰å…¨é˜²æŠ¤æœºåˆ¶
- **è®¤è¯æˆæƒ**ï¼šSa-Token JWT + RBACæƒé™æ¨¡å‹
- **é˜²åˆ·é˜²çˆ†ç ´**ï¼šåŸºäºIPçš„å‚æ•°é™æµï¼Œç™»å½•/æ³¨å†Œ1åˆ†é’Ÿæœ€å¤š30æ¬¡
- **IPé˜²æŠ¤**ï¼šNacos + å¸ƒéš†è¿‡æ»¤å™¨åŠ¨æ€é»‘åå•
- **é˜²çˆ¬æœºåˆ¶**ï¼šRedis è®¡æ•°å™¨ + è‡ªåŠ¨å°ç¦
- **æ•°æ®è„±æ•**ï¼šæ•æ„Ÿä¿¡æ¯è‡ªåŠ¨è„±æ•

## ğŸ“Š æ€§èƒ½è¡¨ç°

| æŒ‡æ ‡ç±»å‹         | ä¼˜åŒ–å‰      | ä¼˜åŒ–å      | æå‡å¹…åº¦    |
| ---------------- | ----------- | ----------- | ----------- |
| **æ¥å£å“åº”æ—¶é—´** | 200-500ms   | 10-50ms     | **10å€**    |
| **æœç´¢QPS**      | 500/s       | 1500/s      | **3å€**     |
| **ç¼“å­˜å‘½ä¸­ç‡**   | 65%         | 95%         | **30%â†‘**    |
| **ç³»ç»Ÿå¯ç”¨æ€§**   | 99.5%       | 99.95%      | **0.45%â†‘**  |
| **æ‰¹é‡æ“ä½œ**     | 5s/1000æ¡   | 0.5s/1000æ¡ | **10å€**    |

## ğŸ§ª å®Œæ•´æµ‹è¯•ä½“ç³»

é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•ä½“ç³»ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œç³»ç»Ÿç¨³å®šæ€§ï¼š

```java
@SpringBootTest
@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
class CacheSystemTest {
    // âœ… è‡ªåŠ¨ç¼“å­˜åŠŸèƒ½æµ‹è¯•
    // âœ… å¤šçŠ¶æ€ç¼“å­˜æµ‹è¯•
    // âœ… ç¼“å­˜æ¸…é™¤æµ‹è¯•
    // âœ… æ‰¹é‡æ“ä½œæµ‹è¯•
    // âœ… ç¼“å­˜ç©¿é€é˜²æŠ¤æµ‹è¯•
    // âœ… ç¼“å­˜å‡»ç©¿é˜²æŠ¤æµ‹è¯•
    // âœ… ç¼“å­˜é›ªå´©é˜²æŠ¤æµ‹è¯•
    // âœ… å¹¶å‘å®‰å…¨æ€§æµ‹è¯•
    // âœ… ç¼“å­˜ä¸€è‡´æ€§æµ‹è¯•
    // âœ… æ€§èƒ½å¯¹æ¯”æµ‹è¯•
    // âœ… è¾¹ç•Œæƒ…å†µæµ‹è¯•
}
```

## ğŸ“š å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **JDK 17+**
- **Maven 3.8+**
- **MySQL 8.0+**
- **Redis 6.0+**
- **Elasticsearch 7.17+**
- **Nacos 2.0+**

### æœ¬åœ°éƒ¨ç½²

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd interviewcodex
   ```

2. **ç¯å¢ƒé…ç½®**
   ```yaml
   # application-dev.yml
   spring:
     datasource:
       url: jdbc:mysql://localhost:3306/interviewcodex
     redis:
       host: localhost
       port: 6379
     elasticsearch:
       uris: http://localhost:9200
   ```

3. **æ•°æ®åº“åˆå§‹åŒ–**
   ```bash
   # åˆ›å»ºæ•°æ®åº“
   CREATE DATABASE interviewcodex DEFAULT CHARACTER SET utf8mb4;

   # æ‰§è¡ŒSQLè„šæœ¬
   mysql -u root -p interviewcodex < sql/create_table.sql
   ```

4. **Elasticsearch é…ç½®**
   ```bash
   # åˆ›å»ºç´¢å¼•
   PUT /question
   {
     "mappings": {
       // ä½¿ç”¨ sql/post_es_mapping.json å†…å®¹
     }
   }
   ```

5. **å¯åŠ¨åº”ç”¨**
   ```bash
   mvn spring-boot:run
   ```

6. **è®¿é—®æ–‡æ¡£**
   - APIæ–‡æ¡£ï¼šhttp://localhost:8101/api/doc.html
   - Sentinelæ§åˆ¶å°ï¼šhttp://localhost:8080

## ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t interviewcodex:latest .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name interviewcodex \
  -p 8101:8101 \
  -e SPRING_PROFILES_ACTIVE=prod \
  interviewcodex:latest
```

## ğŸ“ å­¦ä¹ ä»·å€¼

æœ¬é¡¹ç›®é€‚åˆä»¥ä¸‹å­¦ä¹ ç›®æ ‡ï¼š

- ğŸ—ï¸ **æ¶æ„è®¾è®¡**ï¼šå¾®æœåŠ¡æ¶æ„ + ä¸­é—´ä»¶é›†æˆ
- ğŸš€ **æ€§èƒ½ä¼˜åŒ–**ï¼šç¼“å­˜ç­–ç•¥ + æœç´¢ä¼˜åŒ–
- ğŸ›¡ï¸ **é«˜å¯ç”¨**ï¼šé™æµç†”æ–­ + é™çº§ç­–ç•¥
- ğŸ”§ **å·¥ç¨‹åŒ–**ï¼šè‡ªåŠ¨åŒ–æµ‹è¯• + CI/CD
- ğŸ“Š **ç›‘æ§è¿ç»´**ï¼šé“¾è·¯è¿½è¸ª + æ€§èƒ½ç›‘æ§

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **é¡¹ç›®ä½œè€…**ï¼špickyboy
- **æŠ€æœ¯äº¤æµ**ï¼šæ¬¢è¿ Issue å’Œ PR
- **æŠ€æœ¯åšå®¢**ï¼šè¯¦ç»†è®¾è®¡æ–‡æ¡£å’Œå®è·µæ€»ç»“

---

> ğŸ’¡ **è®¾è®¡ç†å¿µ**ï¼šè¿½æ±‚æè‡´æ€§èƒ½ï¼Œä¿è¯ç³»ç»Ÿç¨³å®šï¼Œæä¾›æœ€ä½³å¼€å‘ä½“éªŒ

> ğŸŒŸ **é¡¹ç›®ç‰¹è‰²**ï¼šä¸ä»…æ˜¯ä¸€ä¸ªé¢è¯•é¢˜åº“ï¼Œæ›´æ˜¯ç°ä»£ Java æŠ€æœ¯æ ˆçš„æœ€ä½³å®è·µç¤ºä¾‹